{
  "hash": "13e734d347dcd9db932b517753173064",
  "result": {
    "markdown": "---\ntitle: \"7. Errores en R y donde solucionarlos\"\ndescription: \"Ayuda, Warnings, Errores y donde solucionarlos\"\nauthor: \"Gabriel Andrade Ponce\"\ndate: \"2022-11-27\"\n---\n\n\n# Errores y warnings\n\nLa mayor铆a del tiempo que estemos trabajando en R tendremos <font color= \"red\"> errores</font> (*errors*) y <font color= \"orange\"> advertencias </font> (*warnings*). Un error en R es algo rutinario, pasa hasta en las mejores familias de programadores. La diferencia recae en que con la experiencia sabr谩s identificar y solucionar los errores o advertencias. Aqu铆 tratar茅 de darte herramientas para solucionar dichos errores.\n\nLo primero es entender la diferencia entre mensajes, advertencias y errores.\n\n## Mensajes\n\nLos mensajes son simplemente eso, mensajes. R te comunica de alguna actividad que hace o que complet贸. Por ejemplo, es muy com煤n tener mensajes cuando cargas o instalas un paquete. Los mensajes aparecer谩n en la consola. Dependiendo de tu configuraci贸n de R estudio tendr谩n el mismo color que el texto en la consola.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmessage(\"Esto es un mensaje \")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nEsto es un mensaje \n```\n:::\n:::\n\n\n## Advertencias o Warnings\n\nLas advertencias son mensajes que notifican de posibles problemas, pero que no detienen la operaci贸n de determinada funci贸n. Por tal motivo cuando tienes una advertencia puedes correr tu c贸digo y dependiendo del warning tu resultado o no puede ser el esperado. En muchos casos no es grave y puedes continuar con tu c贸digo sin problemas.\n\nPor ejemplo, al cargar el paquete ggplot2 la consola me marcar谩 un Warning, que dice que el paquete fue construido en la versi贸n 4.1.3. Es una versi贸n m谩s actual que la m铆a, pero a煤n as铆 el paquete funciona.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'ggplot2' was built under R version 4.1.3\n```\n:::\n:::\n\n\nOtro ejemplo que vimos en la secci贸n de gr谩ficos es cuando tenemos un NA en la base de datos. Cuando graficas con ggplot, el te avisar谩 cuando hay valores faltantes con un Warning. En este caso es el NA que agregu茅 en la posici贸n 19. A pesar de eso, todo funciona y el gr谩fico sale.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnumeros <- rnorm(30, 0,1) # N煤meros aleatorios\nnumeros[19] <- NA # Agrego un NA\nx <- as.data.frame(numeros)\n\nggplot(x, aes(x=numeros))+\n  geom_histogram()\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 1 rows containing non-finite values (stat_bin).\n```\n:::\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\nPero cuidado, hay warnings que pueden afectar futuras operaciones. Por ejemplo si por alguna raz贸n me equivoco y creo un logaritmo base 10 de valores negativos tendr茅 NAS. Si posteriormente quiero calcular la media de dicho vector, tendr茅 un error por el echo de que tengo solo NAs\n\n\n::: {.cell}\n\n```{.r .cell-code}\nseq_mala <- seq(-20,10)\nloga <- log10(seq_mala)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Se han producido NaNs\n```\n:::\n\n```{.r .cell-code}\nmean(loga)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] NaN\n```\n:::\n:::\n\n\n## Errores o errors\n\nLos errores son mensajes fatales. Eso quiere decir que la funci贸n u operaci贸n se detiene y no se produce el resultado\n\n\n::: {.cell}\n\n```{.r .cell-code}\n\"1\"+2\n```\n:::\n\n\n![](error.png){fig-align=\"center\"}\n\n# Enfrentar errores y advertencias\n\n1.  Lo primero aunque parezca l贸gico es leer bien el mensaje. Las personas suelen asustarse y simplemente se confunden, pero no leen de que se trata el error\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplot(grafics)\n```\n:::\n\n\n`Error in plot(grafics) : object 'grafics' not found`\n\nR no encuentra el objeto `grafics`. En este caso es porque simplemente no hemos generado ning煤n objeto con ese nombre. Muchas veces sucede porque olvidamos generar el objeto o porque lo escribimos de forma equivocada.\n\n2.  Verifica e inspecciona tus objetos. Muchas veces los errores se generan porque nuestro objeto no es del tipo correcto. Por ello es importante usar las funciones para explorar los objetos, visualizar tus tablas, etc.\n\n\n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    mat <- matrix(letters[5:20], nrow = 5)\n    ```\n    \n    ::: {.cell-output .cell-output-stderr}\n    ```\n    Warning in matrix(letters[5:20], nrow = 5): la longitud de los datos [16] no es\n    un subm煤ltiplo o m煤ltiplo del n煤mero de filas [5] en la matriz\n    ```\n    :::\n    \n    ```{.r .cell-code}\n    mean(mat)\n    ```\n    \n    ::: {.cell-output .cell-output-stderr}\n    ```\n    Warning in mean.default(mat): argument is not numeric or logical: returning NA\n    ```\n    :::\n    \n    ::: {.cell-output .cell-output-stdout}\n    ```\n    [1] NA\n    ```\n    :::\n    \n    ```{.r .cell-code}\n    str(mat)\n    ```\n    \n    ::: {.cell-output .cell-output-stdout}\n    ```\n     chr [1:5, 1:4] \"e\" \"f\" \"g\" \"h\" \"i\" \"j\" \"k\" \"l\" \"m\" \"n\" \"o\" \"p\" \"q\" \"r\" \"s\" ...\n    ```\n    :::\n    :::\n\n\n3.  Utiliza el help de cada funci贸n para saber que puede estar sucediendo y como solucionarlo\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmat2 <- matrix(sample(50), nrow = 5)\nmat2[5,5] <- NA\nmat2\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n     [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]\n[1,]   30   44   14    1   12   38    7   35   26    47\n[2,]   42   39   19   48   45   40   20   27   13    18\n[3,]   37   28   34   32   24   50   16   43   31    23\n[4,]   15   25   22   36    5   41   21    8   29    11\n[5,]    2   46    4   33   NA    3   17    9   10    49\n```\n:::\n\n```{.r .cell-code}\nmean(mat2)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] NA\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nhelp(\"mean\")\n```\n:::\n\n\nResulta que la funci贸n mean tiene un argumento llamado `na.rm` que sirve para especificar que no considere los NAs en el procedimiento\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmean(mat2, na.rm = TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 25.89796\n```\n:::\n:::\n\n\n4.  Busca en san google. El 99% de las veces los errores que obtienes ya los sufri贸 otra persona y muy probablemente encontr贸 como solucionarlo.\n\n![](https://img-9gag-fun.9cache.com/photo/aqN005R_460s.jpg){fig-align=\"center\"}\n\nLa comunidad de R es muy buena ayudando a al gente, as铆 que si copian y pegan el error en el buscador de google seguro encontrar谩n una soluci贸n. Con el tiempo tambi茅n aprender谩s a buscar en google los errores o c贸mo aprender a hacer ciertas operaciones.\n\n![](https://miro.medium.com/max/1000/1*LNI3TWutq8kj69DAUQqO4g.png){fig-align=\"center\"}\n\nUn foro muy famoso es **Stackoverflow**, all铆 hay preguntas y soluciones a problemas de programaci贸n e incluso estad铆sticos.\n\n![](stackov.png){fig-align=\"center\" width=\"621\"}\n\n5.  Si despu茅s de leer la documentaci贸n de la funci贸n, revisar los objetos y buscar en Internet no encuentras la soluci贸n. Entonces, es el momento de preguntar ya sea en un foro a otro estudiante o a un profesor. Recuerda que la gente que te va ayudar lo hace invirtiendo su tiempo en ti, por lo que hay que intentar hacer que valga la pena. Demuestra que ya has intentado buscar informaci贸n. Dale toda la informaci贸n necesaria a la otra persona para que pueda ayudar a solucionar tu problema. Por ejemplo, versi贸n de R, que dice el error, de que se compone tu objeto etc. Se directo, concreto y da las gracias .\n\n![](https://community.rstudio.com/uploads/default/original/3X/0/8/082a83ce507ed1fd9a28b86b9ffe1f4e0f16d108.jpeg){fig-align=\"center\"}\n\n6.  Extra ChatGPT <https://chat.openai.com/chat>: Este es un chat basado en una inteligencia artificial que intenta resolver cualquier pregunta que hagas, incluido preguntas de programaci贸n. Por ahora solo funciona en ingl茅s e incluso da ejemplos en R con c贸digo incluido, eso si sabes preguntar\n\n    ![](chatgtp.png)\n\nHay que tener cuidado porque sigue generando respuestas incorrectas, pero con el tiempo supongo que ir谩 mejorando. En todo caso esta interesante y es divertido probarlo.\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}