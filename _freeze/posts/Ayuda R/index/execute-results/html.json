{
  "hash": "ed0cd7ef921a8c19d46e7860d5506404",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"7. Errores en R y donde solucionarlos\"\ndescription: \"Ayuda, Warnings, Errores y donde solucionarlos\"\nauthor: \"Gabriel Andrade Ponce-Karen Lorena Velásque-C\"\ndate: \"2024-05-07\"\n---\n\n\n# Errores y warnings\n\nLa mayoría del tiempo que estemos trabajando en R tendremos <font color= \"red\"> errores</font> (*errors*) y <font color= \"orange\"> advertencias </font> (*warnings*). Un error en R es algo rutinario, pasa hasta en las mejores familias de programadores. La diferencia recae en que con la experiencia sabrás identificar y solucionar los errores o advertencias. Aquí trataré de darte herramientas para solucionar dichos errores.\n\nLo primero es entender la diferencia entre mensajes, advertencias y errores.\n\n## Mensajes\n\nLos mensajes son simplemente eso, mensajes. R te comunica de alguna actividad que hace o que completó. Por ejemplo, es muy común tener mensajes cuando cargas o instalas un paquete. Los mensajes aparecerán en la consola. Dependiendo de tu configuración de R estudio tendrán el mismo color que el texto en la consola.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmessage(\"Esto es un mensaje \")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nEsto es un mensaje \n```\n\n\n:::\n:::\n\n\n## Advertencias o Warnings\n\nLas advertencias son mensajes que notifican de posibles problemas, pero que no detienen la operación de determinada función. Por tal motivo cuando tienes una advertencia puedes correr tu código y dependiendo del warning tu resultado o no puede ser el esperado. En muchos casos no es grave y puedes continuar con tu código sin problemas.\n\nPor ejemplo, al cargar el paquete ggplot2 la consola me marcará un Warning, que dice que el paquete fue construido en la versión 4.1.3. Es una versión más actual que la mía, pero aún así el paquete funciona.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\n```\n:::\n\n\nOtro ejemplo que vimos en la sección de gráficos es cuando tenemos un NA en la base de datos. Cuando graficas con ggplot, el te avisará cuando hay valores faltantes con un Warning. En este caso es el NA que agregué en la posición 19. A pesar de eso, todo funciona y el gráfico sale.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnumeros <- rnorm(30, 0,1) # Números aleatorios\nnumeros[19] <- NA # Agrego un NA\nx <- as.data.frame(numeros)\n\nggplot(x, aes(x=numeros))+\n  geom_histogram()\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Removed 1 row containing non-finite outside the scale range\n(`stat_bin()`).\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\nPero cuidado, hay warnings que pueden afectar futuras operaciones. Por ejemplo si por alguna razón me equivoco y creo un logaritmo base 10 de valores negativos tendré NAS. Si posteriormente quiero calcular la media de dicho vector, tendré un error por el echo de que tengo solo NAs\n\n\n::: {.cell}\n\n```{.r .cell-code}\nseq_mala <- seq(-20,10)\nloga <- log10(seq_mala)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: NaNs produced\n```\n\n\n:::\n\n```{.r .cell-code}\nmean(loga)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] NaN\n```\n\n\n:::\n:::\n\n\n## Errores o errors\n\nLos errores son mensajes fatales. Eso quiere decir que la función u operación se detiene y no se produce el resultado\n\n\n::: {.cell}\n\n```{.r .cell-code}\n\"1\"+2\n```\n:::\n\n\n![](error.png){fig-align=\"center\"}\n\n# Enfrentar errores y advertencias\n\n1.  Lo primero aunque parezca lógico es leer bien el mensaje. Las personas suelen asustarse y simplemente se confunden, pero no leen de que se trata el error\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplot(grafics)\n```\n:::\n\n\n`Error in plot(grafics) : object 'grafics' not found`\n\nR no encuentra el objeto `grafics`. En este caso es porque simplemente no hemos generado ningún objeto con ese nombre. Muchas veces sucede porque olvidamos generar el objeto o porque lo escribimos de forma equivocada.\n\n2.  Verifica e inspecciona tus objetos. Muchas veces los errores se generan porque nuestro objeto no es del tipo correcto. Por ello es importante usar las funciones para explorar los objetos, visualizar tus tablas, etc.\n\n\n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    mat <- matrix(letters[5:20], nrow = 5)\n    ```\n    \n    ::: {.cell-output .cell-output-stderr}\n    \n    ```\n    Warning in matrix(letters[5:20], nrow = 5): data length [16] is not a\n    sub-multiple or multiple of the number of rows [5]\n    ```\n    \n    \n    :::\n    \n    ```{.r .cell-code}\n    mean(mat)\n    ```\n    \n    ::: {.cell-output .cell-output-stderr}\n    \n    ```\n    Warning in mean.default(mat): argument is not numeric or logical: returning NA\n    ```\n    \n    \n    :::\n    \n    ::: {.cell-output .cell-output-stdout}\n    \n    ```\n    [1] NA\n    ```\n    \n    \n    :::\n    \n    ```{.r .cell-code}\n    str(mat)\n    ```\n    \n    ::: {.cell-output .cell-output-stdout}\n    \n    ```\n     chr [1:5, 1:4] \"e\" \"f\" \"g\" \"h\" \"i\" \"j\" \"k\" \"l\" \"m\" \"n\" \"o\" \"p\" \"q\" \"r\" \"s\" ...\n    ```\n    \n    \n    :::\n    :::\n\n\n3.  Utiliza el help de cada función para saber que puede estar sucediendo y como solucionarlo\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmat2 <- matrix(sample(50), nrow = 5)\nmat2[5,5] <- NA\nmat2\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n     [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]\n[1,]   35   13   45   26    4    6   43   37    7    12\n[2,]   39   24   20   32   46   14   27   38   21    49\n[3,]   25   48   29   40   41   36   28   42   17    34\n[4,]   16   30    1   18   11   33   50   10    8    47\n[5,]   31    5   23   22   NA    2    9    3   19    44\n```\n\n\n:::\n\n```{.r .cell-code}\nmean(mat2)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] NA\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nhelp(\"mean\")\n```\n:::\n\n\nResulta que la función mean tiene un argumento llamado `na.rm` que sirve para especificar que no considere los NAs en el procedimiento\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmean(mat2, na.rm = TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 25.71429\n```\n\n\n:::\n:::\n\n\n4.  Busca en san google. El 99% de las veces los errores que obtienes ya los sufrió otra persona y muy probablemente encontró como solucionarlo.\n\n![](https://img-9gag-fun.9cache.com/photo/aqN005R_460s.jpg){fig-align=\"center\"}\n\nLa comunidad de R es muy buena ayudando a al gente, así que si copian y pegan el error en el buscador de google seguro encontrarán una solución. Con el tiempo también aprenderás a buscar en google los errores o cómo aprender a hacer ciertas operaciones.\n\n![](https://miro.medium.com/max/1000/1*LNI3TWutq8kj69DAUQqO4g.png){fig-align=\"center\"}\n\nUn foro muy famoso es **Stackoverflow**, allí hay preguntas y soluciones a problemas de programación e incluso estadísticos.\n\n![](stackov.png){fig-align=\"center\" width=\"621\"}\n\n5.  Si después de leer la documentación de la función, revisar los objetos y buscar en Internet no encuentras la solución. Entonces, es el momento de preguntar ya sea en un foro a otro estudiante o a un profesor. Recuerda que la gente que te va ayudar lo hace invirtiendo su tiempo en ti, por lo que hay que intentar hacer que valga la pena. Demuestra que ya has intentado buscar información. Dale toda la información necesaria a la otra persona para que pueda ayudar a solucionar tu problema. Por ejemplo, versión de R, que dice el error, de que se compone tu objeto etc. Se directo, concreto y da las gracias 🤗.\n\n![](https://community.rstudio.com/uploads/default/original/3X/0/8/082a83ce507ed1fd9a28b86b9ffe1f4e0f16d108.jpeg){fig-align=\"center\"}\n\n6.  Extra ChatGPT <https://chat.openai.com/chat>: Este es un chat basado en una inteligencia artificial que intenta resolver cualquier pregunta que hagas, incluido preguntas de programación. Por ahora solo funciona en inglés e incluso da ejemplos en R con código incluido, eso si sabes preguntar\n\n    ![](chatgtp.png)\n\nHay que tener cuidado porque sigue generando respuestas incorrectas, pero con el tiempo supongo que irá mejorando. En todo caso esta interesante y es divertido probarlo.\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}