---
title: "Taller Rmarkdown - Rladies"
author: "Luz Adriana Perez Solano y Karen Lorena Velásquez"
date: "4 de mayo de 2019"
output: 
  prettydoc::html_pretty:
    theme: hpstr
  #html_document
  #word_document
---

## Instalación

Para iniciar, es necesario instalar las siguientes paqueterías:

-   `rmarkdown`
-   `prettydoc`
-   `imager`
-   `knitr`

## Introducción

### *¿Que es?*

`rmarkdown` es una paquetería que se basa en la sintaxis de marcas *markdown*, generada con el fin de facilitar el desarrollo de paginas web, dicha sintaxis fue integrada por Rstudio con el fin de conjugar el lenguaje R con la generación de textos científicos.

### *¿Cómo funciona?*

Rstudio emplea *pandoc* como conversor universal de documentos, permitiendo así los diferentes tipos de salida de `rmarkdown`.

La paquetería `knitr` es la encargada de generar la interacción entre R y *pandoc* y de tal forma la obtención del documento en el formato deseado.

## *Diferentes tipos de salida*

## *Temas en archivos html*

```{r echo=FALSE, message=FALSE, warning=FALSE}
library(imager)
par(mfrow = c(1,1), mar=c(1,1,1,1))
F1<- load.image('Slide2.jpg')
F2<- load.image('Slide3.jpg')
plot(F1, axes= F, margin(t = 1, r =0, b = 1, l = 0))
plot(F2, axes = F, margin(t = 1, r =0, b = 1, l = 0))
```

## Formatos de texto

-   *Rladies* :Cursiva
-   **Rladies** :Negrita
-   `Rladies` :"código"
-   \# Rladies : Primer nivel, tamaño de fuente
-   \## Rladies
-   \##### Rladies
-   ~~Rladies~~ : Tachado
-   [Rladies meetup Xalapa](https://www.meetup.com/es-ES/rladies-xalapa/)
-   Rladies ![](RladiesXalapa.jpg)

## Diferentes formas de cargar imágenes

Markdown permite cargar imágenes en formatos *.jpg*, *.png*, y *.jpeg*.

Primera forma:

`![](imagen.jpg)`

Ejemplo:

![](Rladies_integrantes.jpeg)

Segunda forma:

Mediante el uso de la librería `imager` podemos cargar diversos tipos de imágenes y modificar su aspecto.

```{r}
library(imager)
par(mfrow = c(2,1), mar=c(1,1,1,1))
F1<- load.image('Rladies_integrantes.jpg')
F2<- load.image('logo.png')
plot(F1, axes= F, margin(t = 1, r =4, b = 1, l = 1))
plot(F2, axes = F, margin(t = 1, r =4, b = 1, l = 1))
```

```{r RladiesXal}
library(knitr)
X1 <- include_graphics('RladiesXal.jpg', dpi=300)
X2 <- include_graphics('Rladies_integrantes.jpg', dpi=300)
par(mfrow = c(2,1), mar=c(1,1,1,1))
X1;X2
```

## Chunks: formas de generar un chunk

## Generación de tablas

| Periodo | Inclinación |
|---------|-------------|
| 75      | 642         |
| 76      | 644         |
| 77      | 656         |

## **Practica**

Verificamos que este instalada la paquetería `tidyverse`, la cual emplearemos en los análisis de regresión.

```{r paqueteria, message=FALSE, warning=FALSE, paged.print=FALSE}
library(tidyverse)
```

Cargamos la base de datos con la cual realizaremos los análisis, en este caso el archivo `pisa.csv`

```{r Leer archivos csv}

pisa<-read.csv("pisa.csv", header=T) 
view(pisa) 
summary(pisa)
colnames(pisa)
dim(pisa)
```

Como una visualización general de los datos, podemos generar histogramas a partir de nuestras variables, no obstante estas gráficas no siempre son informativas y solo pueden ser usadas como gráficos exploratorios.

```{r Histograms, echo=FALSE, message=FALSE, warning=FALSE, paged.print=FALSE}
hist(pisa$Periodo) #no tiene mucho sentido :P
hist(pisa$Inclinacion)
```

Como gráfico exploratorio adicional, podemos ver como se comporta la relación de nuestras variables de interés, *inclinación* y *periodo*, para esto emplearemos la paquetería `ggplot`

```{r}
ggplot(pisa, aes(Periodo,Inclinacion))+
  geom_point(color = "deeppink2", shape = 19, size = 4)
```

```{r Regresion Linear Simple, message=FALSE, warning=FALSE, paged.print=FALSE}
pisa.RLS <- lm(Inclinacion~Periodo, data = pisa) 
```

```{r Leer outputs}
summary(pisa.RLS) 
anova(pisa.RLS) 
```

```{r datos guardados}
ls(pisa.RLS)
pisa.RLS$coefficients
pisa.RLS$residuals
pisa.RLS$fitted.values
```

```{r predicciones}
predict(pisa.RLS, newdata=data.frame(Periodo=88), 
        interval = "prediction", leve=0.95)
```

```{r graficos}
ggplot(pisa, aes(Periodo,Inclinacion))+
  geom_point(color = "springgreen3", shape = 18, size = 4)+
  geom_abline(intercept = pisa.RLS$coefficients[1], slope = pisa.RLS$coefficients[2])

```

\`\`\`
